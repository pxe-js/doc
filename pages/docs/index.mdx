# PXE.js
A lightweight framework for writing web applications and APIs.

## Installation

Install PXE.js using NPM or Yarn:
```bash
npm i @pxe/server
# or
yarn add @pxe/server
```

## Application

The application is an object containing an array of middleware which are executed in sequence upon request. 

A PXE.js [hello world](https://runkit.com/aquapi/hello-world-pxe.js) application:
```typescript
const Server = require("@pxe/server");

const app = new Server();

app.use(async ctx => {
    ctx.response.body = "Hello world!";
});

app.ls(3000);
```

## Middlewares

PXE.js middlewares are Connect-style middlewares with async functions, which makes control flows easier.

The following example responses with an object with the time when the request started, the requested URL and method.
```typescript
const Server = require("@pxe/server");

const app = new Server();

app.use(async (ctx, next) => {
    await next();
    ctx.response.body.url = ctx.request.url;
    ctx.response.body.method = ctx.request.method;
});

app.use(async ctx => {
    const time = new Date();
    ctx.response.body = { time };
});

app.ls(3000);
```

The first middleware calls `next()`, which runs the next middleware. 

The next middleware set the response body to an object with property `time` equals the current date.

The first middleware set the response body property `url` to the requested URL and property `method` to requested method.